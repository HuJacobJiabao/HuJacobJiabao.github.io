---
title: Blender-Python API Meshing (1)
date: 2022-04-16 19:29:34
tags: [Blender, Python, Modelling]
categories: Blender

---
[toc]
# Blender-Python API Meshing
## Introduction
- Blender is a free and open-source 3D computer graphics software toolset used for creating animated films, visual effects, art, 3D-printed models, motion graphics, interactive 3D applications, virtual reality, and, formerly, video games.
  
It is a tutorial to teach you how to create mesh by Blender-Python.

First of all, to be able to use the Blender-Python API, you need to import the **bpy** library.

```python
import bpy
```

When you open your new blender python, you can find a cube in the origin. And there is only one area for operating. What we are going to do is to create two new areas. 
<figure>
<img src = 'https://raw.githubusercontent.com/HuJacobJiabao/HuJacobJiabao.github.io/main/blog/source/img/1.jpg'>
<img src = 'https://raw.githubusercontent.com/HuJacobJiabao/HuJacobJiabao.github.io/main/blog/source/img/2.jpg'>
<img src = 'https://raw.githubusercontent.com/HuJacobJiabao/HuJacobJiabao.github.io/main/blog/source/img/3.jpg'>
</figure>
And set the different regions like the figure shown below. It's my personal preferrence, you can set the region as your like. 
<img src = 'https://raw.githubusercontent.com/HuJacobJiabao/HuJacobJiabao.github.io/main/blog/source/img/5.jpg'>

### Python Console
Let's firstly use the python console.
```console
>>> bpy.data.objects
<bpy_collection[3], BlendDataObjects>

>>> bpy.data.objects.keys()
['Camera', 'Cube', 'Light']
```
And we can assign the object `'Cube'` to a variable `cube`. And move the cube to another position.
```console
>>> cube = bpy.data.objects['Cube']
>>> cube.location
Vector((0.0, 0.0, 0.0))

>>> cube.location = (1, 1, 1)
```
Then the centroid of the cube will move to `(1, 1, 1)`.
<img src = 'https://raw.githubusercontent.com/HuJacobJiabao/HuJacobJiabao.github.io/main/blog/source/img/6.jpg'>
### Text Editor
The operations above can be done by using the script in the text editor.
```python
import bpy

cube = bpy.data.objects['Cube']
cube.location = (1, 1, 1)
```

## Mesh

In order to create mesh for a desirable objects. We need to define the vertices and faces.

### Mesh a plate
Let's create a plate

```python
import bpy

# Select and delete all the objects
bpy.ops.object.select_all(action = 'SELECT')
bpy.ops.object.delete()

vertices = [(-1, -1, 0), (1, -0, 0), (1, 1, 0), (-1, 1, 0)] # The coordinates of different vertices
faces = [(0, 1, 2, 3)] # Only one face, so the shape is a plate.

name = 'New Plate'
mesh = bpy.data.meshes.new(name)

obj = bpy.data.objects.new(name, mesh)

bpy.context.scene.collection.objects.link(obj)

mesh.from_pydata(vertices,[],faces)
mesh.update(calc_edges=True)
```
<img src = 'https://raw.githubusercontent.com/HuJacobJiabao/HuJacobJiabao.github.io/main/blog/source/img/7.jpg'>

### Mesh a 3D Supershape
#### 3D Supershape
A 3D supershape can be parameterized by the [Superformula](https://en.wikipedia.org/wiki/Superformula#3D_plots).
- The superformula is a generalization of the superellipse and was proposed by Johan Gielis around 2000.[1] Gielis suggested that the formula can be used to describe many complex shapes and curves that are found in nature. Gielis has filed a patent application related to the synthesis of patterns generated by the superformula.

In polar coordinates, with $r$ the radius and $\varphi$ the angle, the superformula is,
$$r(\varphi) = (|\frac{\cos(\frac{m\varphi}4)}a|^{n_2} + |\frac{\sin(\frac{m\varphi}4)}b|^{n_3})^{n_1}$$

By changing $a, b, m, n_1, n_2, n_3$, we can get different shapes.
#### Demostration
